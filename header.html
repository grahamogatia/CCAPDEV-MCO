<!DOCTYPE html>
<html>
<head>
  <link href="https://fonts.googleapis.com/css2?family=Mukta:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      padding-top: 50px;
      font-family: 'Mukta', sans-serif;
    }

    .header {
      position: fixed;
      top: 0;
      width: 100%;
      height: 50px;
      background-color: #1E5631;
      padding: 0 10px;
      display: flex;
      align-items: center;
    }

    .header .button {
      padding: 5px 10px;
      color: black;
      border: none;
      cursor: pointer;
    }

    .header .button:hover {
      background-color: lightgray;
    }

    .header .buttonlog {
      padding: 5px 10px;
      color: #d21404;
      border: none;
      cursor: pointer;
    }

    .header .buttonlog:hover {
      background-color: darksalmon;
    }

    .search-bar {
      display: flex;
      align-items: center;
      height: 35px;
      max-width: 500px;
      margin: 0 auto;
      background-color: #fff;
      padding: 0 5px;
      border-radius: 5px;
    }

    .profpic {
      display: flex; 
      align-items: center;
      width: 40px;
      height: 40px;
      margin-right: 20px;
    }

    #logopic {
      width: 45px;
      height: 45px;
    }

    #commentpic {
      width: 20px;
      height: 20px;
    }

    .search-bar input[type="text"] {
      flex: 1;
      border: none;
      padding: 5px;
      font-size: 16px;
      transition: background-color 0.3s;
      outline: none;
    }

    .search-bar input[type="text"]:hover {
      background-color: #D3D3D3;
    }

    .search-bar input[type="text"] {
      flex: 1;
      border: none;
      padding: 5px;
      font-size: 13px;
      width: 1000px;
    }

    .search-bar button {
      padding: 5px 10px;
      background-color: #4C9A2A;
      color: #fff;
      border: none;
      cursor: pointer;
    }

    .search-bar button:hover {
      background-color: #ACDF87;
    }

    .dropdown {
      position: relative;
      display: inline-block;
      align-items: center;
    }

    #dropdownContent {
      display: none;
      position: absolute;
      background-color: #f9f9f9;
      min-width: 160px;
      box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
      right: 40%;
    }

    .dropdown:hover #dropdownContent {
      display: block;
    }

    .dropdown a {
      display: block;
      text-decoration: none;
      color: #333;
    }

    .dropdown a:hover {
      background-color: #ddd;
    }

    .hide {
      display: none;
    }

    .bodyweb {
      padding: 0 20px;
      margin: 5px 0;
    }


    textarea{
      resize: vertical;
    }

    #commentsContainer {
      padding: 0 20px 20px;
      margin-top: 0;
      font-size: 14px;
    }

    .comment {
      display: flex;
      align-items: center;
    }
    
    .comment .profile-picture {
      margin-right: 10px;
      width: 30px;
      height: 30px;
    }
    
    #postButton {
      display: none;
    }
  </style>

  <script>
    var dropdownContent = document.getElementById("dropdownContent");
    var dropdownButton = document.getElementById("dropdownButton");
    var isCommentClicked = false;

    function toggleDropdown() {
      dropdownContent.classList.toggle("show");
    }

    function showTextarea() {
      var textarea = document.getElementById('myTextarea');
      textarea.classList.toggle('hide');
      isCommentClicked = !isCommentClicked;
      togglePostButtonVisibility();
    }

    function handleClick(action) {
      console.log("Clicked " + action);
    }

    dropdownButton.addEventListener("mouseout", function (event) {
      if (!dropdownContent.contains(event.toElement)) {
        dropdownContent.classList.remove("show");
      }
    });

    function togglePostButtonVisibility() {
      var textarea = document.getElementById('myTextarea');
      var postButton = document.getElementById('postButton');
      if (isCommentClicked && !textarea.classList.contains('hide')) {
        postButton.style.display = 'block';
      } else {
        postButton.style.display = 'none';
      }
    }

    function postComment() {
      var textareaValue = document.getElementById('myTextarea').value;
      
      if (textareaValue.trim() === '') {
        alert("Comment cannot be empty!");
        return;
      }
      
      var commentsContainer = document.getElementById('commentsContainer');
      
      var commentDiv = document.createElement('div');
      commentDiv.classList.add('comment');
      
      var profilePictureImg = document.createElement('img');
      profilePictureImg.src = "admin.png";
      profilePictureImg.alt = 'Profile Picture';
      profilePictureImg.classList.add('profile-picture');
      commentDiv.appendChild(profilePictureImg);
      
      var commentParagraph = document.createElement('p');
      commentParagraph.textContent = textareaValue;
      commentDiv.appendChild(commentParagraph);
      
      commentsContainer.appendChild(commentDiv);
      
      document.getElementById('myTextarea').value = '';
      
      var textarea = document.getElementById('myTextarea');
      var postButton = document.getElementById('postButton');
      textarea.classList.add('hide');
      postButton.style.display = 'none';
      isCommentClicked = false;
    }
  </script>
</head>

<body>
  <header class="header">
    <img src="logo.png" id="logopic" alt="logo">
    <div class="search-bar">
      <input type="text" placeholder="Search Restaurants/Reviews">
      <button type="submit">Search</button>
    </div>

    <div class="dropdown">
      <img src="profile.png" id="dropdownButton" class="profpic" alt="profile picture" onclick="toggleDropdown()">
      <div id="dropdownContent">
        <a href="#" class="button" onclick="handleClick('Register')">Register</a>
        <a href="#" class="button" onclick="handleClick('Login')">Login</a>
        <a href="#" class="buttonlog" onclick="handleClick('Logout')">Logout</a>
      </div>
    </div>
  </header>
  
  <div class="bodyweb">
    <img src="comment.png" id="commentpic" alt="comment" onclick="showTextarea()"><br>
    <textarea id="myTextarea" class="hide" rows="4" cols="50" placeholder="place response"></textarea>
    <button id="postButton" onclick="postComment()">Post</button>
  </div>
  <div id="commentsContainer"></div>
</body>
</html>
